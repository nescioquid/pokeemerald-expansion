script LavaridgeTown_Gym_1F_EventScript_GymGuide_Pory {
  lock
  faceplayer
  if (!flag(FLAG_DEFEATED_LAVARIDGE_GYM)) {
    msgbox(format("Hey, how's it going, Champion-\nbound {PLAYER}?\pLavaridge's Gym Leader Flannery\nuses Fire-type Pokémon.\pHer passion for Pokémon burns stronger\nand hotter than a volcano.\pDon't get too close to her--you'll burn!\nHose her down with water and then\lgo for it!"))
    if (!flag(FLAG_RECEIVED_FRESH_WATER_LAVARIDGE_GYM)) {
      call(PoryScript_GymGuide_GiveFreshWater)
      setflag(FLAG_RECEIVED_FRESH_WATER_LAVARIDGE_GYM)
      msgbox(format("Good luck!"))
    }
  } else {
    msgbox(LavaridgeTown_Gym_1F_Text_GymGuidePostVictory)
    if (!flag(FLAG_RECEIVED_RARE_CANDY_LAVARIDGE_GYM)) {
      msgbox(format("Oh, and take these!"))
      call(PoryScript_GymGuide_GiveRareCandy)
      setflag(FLAG_RECEIVED_RARE_CANDY_LAVARIDGE_GYM)
      msgbox(format("Congrats on the big win!"))
    }
  }
  release
  end
}
